{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/use-toast.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { type ToastProps, type ToastActionElement } from \"./toast\"\n\nconst TOAST_LIMIT = 3\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype State = {\n  toasts: ToasterToast[]\n}\n\ntype Action =\n  | {\n      type: typeof actionTypes.ADD_TOAST\n      toast: ToasterToast\n    }\n  | {\n      type: typeof actionTypes.UPDATE_TOAST\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: typeof actionTypes.DISMISS_TOAST\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: typeof actionTypes.REMOVE_TOAST\n      toastId?: ToasterToast[\"id\"]\n    }\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case actionTypes.ADD_TOAST:\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case actionTypes.UPDATE_TOAST:\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case actionTypes.DISMISS_TOAST: {\n      const { toastId } = action\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId ? { ...t, open: false } : t\n        ),\n      }\n    }\n    case actionTypes.REMOVE_TOAST:\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\nfunction toast({ ...props }: ToastProps) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: actionTypes.UPDATE_TOAST,\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: actionTypes.DISMISS_TOAST, toastId: id })\n\n  dispatch({\n    type: actionTypes.ADD_TOAST,\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) =>\n      dispatch({ type: actionTypes.DISMISS_TOAST, toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":";;;;;;;AAGA,MAAM,cAAc;AACpB,MAAM,qBAAqB;AAW3B,MAAM,cAAc;IAClB,WAAW;IACX,cAAc;IACd,eAAe;IACf,cAAc;AAChB;AAEA,IAAI,QAAQ;AAEZ,SAAS;IACP,QAAQ,CAAC,QAAQ,CAAC,IAAI,OAAO,gBAAgB;IAC7C,OAAO,MAAM,QAAQ;AACvB;AAwBA,MAAM,UAAU,CAAC,OAAc;IAC7B,OAAQ,OAAO,IAAI;QACjB,KAAK,YAAY,SAAS;YACxB,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ;oBAAC,OAAO,KAAK;uBAAK,MAAM,MAAM;iBAAC,CAAC,KAAK,CAAC,GAAG;YACnD;QAEF,KAAK,YAAY,YAAY;YAC3B,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,OAAO,KAAK,CAAC,EAAE,GAAG;wBAAE,GAAG,CAAC;wBAAE,GAAG,OAAO,KAAK;oBAAC,IAAI;YAE3D;QAEF,KAAK,YAAY,aAAa;YAAE;gBAC9B,MAAM,EAAE,OAAO,EAAE,GAAG;gBAEpB,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,UAAU;4BAAE,GAAG,CAAC;4BAAE,MAAM;wBAAM,IAAI;gBAE/C;YACF;QACA,KAAK,YAAY,YAAY;YAC3B,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO;YAC5D;IACJ;AACF;AAEA,MAAM,YAA2C,EAAE;AAEnD,IAAI,cAAqB;IAAE,QAAQ,EAAE;AAAC;AAEtC,SAAS,SAAS,MAAc;IAC9B,cAAc,QAAQ,aAAa;IACnC,UAAU,OAAO,CAAC,CAAC;QACjB,SAAS;IACX;AACF;AAEA,SAAS,MAAM,EAAE,GAAG,OAAmB;IACrC,MAAM,KAAK;IAEX,MAAM,SAAS,CAAC,QACd,SAAS;YACP,MAAM,YAAY,YAAY;YAC9B,OAAO;gBAAE,GAAG,KAAK;gBAAE;YAAG;QACxB;IACF,MAAM,UAAU,IAAM,SAAS;YAAE,MAAM,YAAY,aAAa;YAAE,SAAS;QAAG;IAE9E,SAAS;QACP,MAAM,YAAY,SAAS;QAC3B,OAAO;YACL,GAAG,KAAK;YACR;YACA,MAAM;YACN,cAAc,CAAC;gBACb,IAAI,CAAC,MAAM;YACb;QACF;IACF;IAEA,OAAO;QACL,IAAI;QACJ;QACA;IACF;AACF;AAEA,SAAS;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,gNAAM,QAAQ,CAAQ;IAEhD,gNAAM,SAAS,CAAC;QACd,UAAU,IAAI,CAAC;QACf,OAAO;YACL,MAAM,QAAQ,UAAU,OAAO,CAAC;YAChC,IAAI,QAAQ,CAAC,GAAG;gBACd,UAAU,MAAM,CAAC,OAAO;YAC1B;QACF;IACF,GAAG;QAAC;KAAM;IAEV,OAAO;QACL,GAAG,KAAK;QACR;QACA,SAAS,CAAC,UACR,SAAS;gBAAE,MAAM,YAAY,aAAa;gBAAE;YAAQ;IACxD;AACF"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/services/axiosConfig.ts"],"sourcesContent":["import axios from 'axios';\nimport { toast } from '@/components/ui/use-toast';\n\n// Configuraci√≥n global de Axios\nconst axiosInstance = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:8000',\n  timeout: 10000,\n});\n\n// Interceptor de solicitudes\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    // Manejar errores de solicitud\n    toast({\n      title: \"Error de Solicitud\",\n      description: \"No se pudo preparar la solicitud\",\n      variant: \"destructive\"\n    });\n    return Promise.reject(error);\n  }\n);\n\n// Interceptor de respuestas\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Manejar errores de respuesta\n    const errorMessage = error.response?.data?.message || 'Error desconocido';\n    \n    toast({\n      title: \"Error de Servidor\",\n      description: errorMessage,\n      variant: \"destructive\"\n    });\n\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosInstance;\n"],"names":[],"mappings":";;;;;;;;AAGA,gCAAgC;AAChC,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACjC,SAAS,6DAAuC;IAChD,SAAS;AACX;AAEA,6BAA6B;AAC7B,cAAc,YAAY,CAAC,OAAO,CAAC,GAAG,CACpC,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC;IACrD;IACA,OAAO;AACT,GACA,CAAC;IACC,+BAA+B;IAC/B,CAAA,GAAA,iIAAA,CAAA,QAAK,AAAD,EAAE;QACJ,OAAO;QACP,aAAa;QACb,SAAS;IACX;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,4BAA4B;AAC5B,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAC,WAAa,UACd,CAAC;IACC,+BAA+B;IAC/B,MAAM,eAAe,MAAM,QAAQ,EAAE,MAAM,WAAW;IAEtD,CAAA,GAAA,iIAAA,CAAA,QAAK,AAAD,EAAE;QACJ,OAAO;QACP,aAAa;QACb,SAAS;IACX;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport axios from 'axios';\nimport axiosInstance from '@/services/axiosConfig';\nimport { toast } from \"@/components/ui/use-toast\";\n\ninterface User {\n  id: number;\n  username: string;\n  email: string;\n  full_name: string;\n  role: string;\n  tokens: number;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  token: string | null;\n  login: (username: string, password: string) => Promise<boolean>;\n  logout: () => void;\n  isAuthenticated: boolean;\n  isInitialized: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [token, setToken] = useState<string | null>(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  useEffect(() => {\n    console.log('üîÑ AuthContext: Verificando estado guardado...');\n    \n    // Verificar si hay un token guardado al cargar la p√°gina\n    const savedToken = localStorage.getItem('authToken');\n    const savedUser = localStorage.getItem('user');\n    \n    console.log('üîç Token guardado:', !!savedToken, 'Usuario guardado:', !!savedUser);\n    \n    if (savedToken && savedUser) {\n      try {\n        const userData = JSON.parse(savedUser);\n        console.log('‚úÖ Datos de usuario v√°lidos encontrados:', userData.username);\n        \n        setToken(savedToken);\n        setUser(userData);\n        setIsAuthenticated(true);\n        \n        // Configurar el token en axios para todas las peticiones\n        axios.defaults.headers.common['Authorization'] = `Bearer ${savedToken}`;\n        \n        console.log('üîë Estado de autenticaci√≥n restaurado exitosamente');\n      } catch (error) {\n        toast({\n          title: \"Error de Autenticaci√≥n\",\n          description: \"No se pudieron cargar los datos de usuario guardados\",\n          variant: \"destructive\"\n        });\n        localStorage.removeItem('authToken');\n        localStorage.removeItem('user');\n        console.log('üßπ Datos corruptos eliminados del localStorage');\n      }\n    } else {\n      console.log('‚ÑπÔ∏è No hay datos de autenticaci√≥n guardados');\n    }\n    \n    // Marcar como inicializado\n    setIsInitialized(true);\n  }, []);\n\n  const login = async (username: string, password: string): Promise<boolean> => {\n    try {\n      console.log('üîê Iniciando proceso de login para:', username);\n\n      const response = await axiosInstance.post('/api/auth/login', {\n        username,\n        password\n      });\n\n      console.log('üì° Respuesta del servidor:', response.status, response.data);\n\n      if (response.data.token) {\n        const userData = response.data.user;\n        const authToken = response.data.token;\n        \n        console.log('‚úÖ Login exitoso, configurando usuario:', userData);\n        \n        // Guardar en estado y localStorage\n        setToken(authToken);\n        setUser(userData);\n        setIsAuthenticated(true);\n        \n        localStorage.setItem('authToken', authToken);\n        localStorage.setItem('user', JSON.stringify(userData));\n        \n        // Configurar el token en axios para todas las peticiones\n        axios.defaults.headers.common['Authorization'] = `Bearer ${authToken}`;\n        \n        console.log('üîë Token configurado en axios, estado actualizado');\n        return true;\n      }\n      \n      console.log('‚ùå No se recibi√≥ token en la respuesta');\n      toast({\n        title: \"Error de Login\",\n        description: \"No se pudo iniciar sesi√≥n. Verifica tus credenciales.\",\n        variant: \"destructive\"\n      });\n      return false;\n    } catch (error) {\n      console.error('üí• Error durante el login:', error);\n      toast({\n        title: \"Error de Login\",\n        description: \"No se pudo iniciar sesi√≥n. Verifica tus credenciales.\",\n        variant: \"destructive\"\n      });\n      return false;\n    }\n  };\n\n  const logout = () => {\n    setToken(null);\n    setUser(null);\n    setIsAuthenticated(false);\n    \n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n    \n    // Remover el token de axios\n    delete axios.defaults.headers.common['Authorization'];\n  };\n\n  const value: AuthContextType = {\n    user,\n    token,\n    login,\n    logout,\n    isAuthenticated,\n    isInitialized\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}